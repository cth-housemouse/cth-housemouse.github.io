<link rel="import" href="../vendor/core-tooltip/core-tooltip.html">

<polymer-element name="stat-bar" attributes="concept">

  <template>
      
   <style>
      @font-face { font-family: NittyNormal; src: url('./fonts/NN.woff') format('woff'); }
      @font-face { font-family: NittyBold; src: url('./fonts/NB.woff') format('woff'); }
     
      div {
          font-family: NittyNormal;
      }
     
      .concept {
          width: 90%;
          height: 50px;
          background-color: #6984dd;
          margin: 20px auto;
      }
      
      .nametag{
          float: left;
          text-align: center;
          width: 10%;  
          height: 100%;
          /*background-color: #696969;*/
          background-color: #A8A8A8 ;
      }

      .conceptImg {
        width: 40px;
        height: 40px;
        margin-top: 5px;
      }

      .total{
          float: left;
          text-align: center;
          padding-top: 7px;
          width: 10%;
          height: 43px;
          /*background-color: #696969;*/
          background-color: #B8B8B8;
          font-size: 12px;
          line-height: 10px;
      }
      
      .wrapper{
          float: left;
          width: 80%;
          height: 50px;
      }

      .working{
          float: left;
          height: 50px;
          background-color: #69a7dd;
      }
     
      .semiWorking{
          float: left;
          height: 50px;
          background-color: #edbe36;
      }
      
      .notWorking{
          float: left;
          height: 50px;
          background-color: #dd9169;
      }
/*
      core-tooltip {
        width: 100%;
        height: 100%;
      }
*/
      .status p {
          text-align: center;
          color: transparent;
      }
      
     .status:hover {
          color: #696969;
          font-size: 15px;
          /*-webkit-animation: textFadeIn 0.2s linear 0.1s alternate both;
          animation: textFadeIn 0.2s linear 0.1s alternate both;*/
     }
     
     /*@-webkit-keyframes textFadeIn {
        from {
          text-shadow: 0px 0px 50px #fff;
        }
        to {
          text-shadow: 0px 0px 0px #666;
        }
      }
     
      @keyframes textFadeIn {
        from {
          text-shadow: 0px 0px 50px #fff;
        }
        to {
          text-shadow: 0px 0px 0px #666;
        }
      }*/
    </style>  
  
    <div class="concept"> 
      <div class="nametag">
        <img class="conceptImg" src="../images/{{concept.name}}.png"/>
      </div>
      <div class="total"><p>{{ concept.total }}</p></div>
      <div class="wrapper">
        <div style="width:{{workingPercentage}}%;" class="status working">
<!--          <core-tooltip label="explanation">-->
            <p>{{workingPercentage}}%</p>
<!--          </core-tooltip>-->
        </div>
        <div style="width:{{semiWorkingPercentage}}%;" class="status semiWorking">
<!--          <core-tooltip label="explanation">-->
            <p>{{semiWorkingPercentage}}%</p>
<!--          </core-tooltip>-->
        </div>
        <div style="width:{{notWorkingPercentage}}%;" class="status notWorking">
<!--          <core-tooltip label="explanation">-->
            <p>{{notWorkingPercentage}}%</p>
<!--          </core-tooltip>-->
        </div>
      </div>

    </div>
  </template>
  <script>
    Polymer('stat-bar', {
      conceptChanged: function(){
        this.workingPercentage = Math.round(this.concept.working / this.concept.total * 100);
        this.notWorkingPercentage = Math.round(this.concept.notWorking / this.concept.total * 100);
        this.semiWorkingPercentage = 100 - this.workingPercentage - this.notWorkingPercentage; 
      }
    });
  </script>
</polymer-element>
